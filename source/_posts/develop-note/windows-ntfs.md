---
title: Windows 下的 NTFS 驱动器索引 BUG
date: 2021-01-18 12:25:36
tag:
 - Windows
 - NTFS
 - BUG
 - 短笔记
---

# NTFS BUG
{% note danger %}
<font color=red size=5>警告，请千万不要在 Windows 下的命令行中运行此命令，或者以其他等价的方式访问</font>
{% endnote %}

```bash
cd c:\:$i30:$bitmap
```

{% note danger %}
<font color=red size=5>警告，请千万不要在 Windows 下的命令行中运行此命令，或者以其他等价的方式访问</font>
{% endnote %}

当你试图进入、访问此目录时，就有机会导致 NTFS 驱动器索引损坏，此问题的触发方式包括但不限于

 - 在极低权限的命令行中执行此命令
 - 在 powershell 中执行此命令
 - 在浏览器中试图访问此 `c:\:$i30:$bitmap` 地址
 - 其他试图访问此地址的程序

触发后，系统将会提示磁盘错误，需要修复，并提示重启电脑。重启后，电脑将会进入磁盘修复，Windows 将会试图修复此问题

部分电脑可以修复此问题，并且正常进入系统，而部分电脑将会无法修复此 BUG，且无法进入系统。

# 我的经历

当我第一次得到此命令的时候，我尝试在 Google 中搜索此地址含义，我直接将其输入到 chrome 的地址栏里，然后我直接按下了回车键！！！

然后悲剧诞生了，我的电脑提示我，磁盘出错需要修复

## 尝试修复-1
使用 Windows 的磁盘修复工具。
 - 驱动卷-属性-工具-检查驱动器中的文件系统错误
 - 提示我需要重启电脑，重启
 - 进入系统前尝试修复错误
 - 没有找到错误，但是无法进入系统

## 尝试修复-2
直接删除 C 盘，然后通过 DG 等软件重建分区表
 - 进入 DG，备份分区表
 - 直接删除 C 盘
 - 使用 DG 直接找回分区表
 - 找回了分区表，但是重启之后仍然无法进入系统

## 尝试修复-3
仔细想想，为什么我不能进入 Windows，但是 PE 可以进入 C 盘呢？同样是同一块硬盘，如果真的是 NTFS 的问题，那为什么我的 PE 仍然能够正确的读取出我的硬盘内的文件内容？使用了好几个不同的软件试图扫描 NTFS 的结果均为正常、无错误

开始怀疑这是不是 Windows 因为遇到了这个问题而产生的 BUG 而并非 NTFS 的问题

 - 使用 Dism++，进行恢复系统受损
 - 修复完成重启系统
 - 手动跳过磁盘检查
 - <font color=red>成功</font>进入系统
